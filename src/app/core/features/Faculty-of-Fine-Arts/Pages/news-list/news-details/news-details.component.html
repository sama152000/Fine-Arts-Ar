<div class="container-fluid py-4" *ngIf="post">
  <div class="row">
    <!-- Left Sidebar -->
    <div class="col-lg-3 col-md-4">
      <div class="details-sidebar art-card">
        <div class="sidebar-header content-padding">
          <h5 class="text-primary-blue mb-0">
            <i class="pi pi-navigation me-2"></i>
            التنقّل
          </h5>
        </div>
        <div class="sidebar-content">
          <!-- Navigation Items -->
          <div class="nav-item" (click)="goBack()">
            <div class="nav-info">
              <div class="nav-icon"><i class="pi pi-arrow-left"></i></div>
              <div class="nav-details">
                <h6 class="nav-name">العودة للخلف</h6>
                <small class="text-muted">الرجوع للصفحة السابقة</small>
              </div>
            </div>
          </div>
          <div class="nav-item" (click)="goToTab(post.postCategories[0]?.categoryName ?? 'الأخبار')">
            <div class="nav-info">
              <div class="nav-icon"><i class="pi pi-list"></i></div>
              <div class="nav-details">
                <h6 class="nav-name">تصفح المزيد</h6>
                <small class="text-muted">من نفس الفئة</small>
              </div>
            </div>
          </div>
        </div>

        <!-- Related Items Section -->
        <div class="related-section" *ngIf="relatedPosts.length > 0">
          <div class="sidebar-header content-padding border-top">
            <h5 class="text-primary-blue mb-0">
              <i class="pi pi-tags me-2"></i>
              عناصر ذات صلة
            </h5>
          </div>
          <div class="related-content">
            <div *ngFor="let item of relatedPosts"
                 class="related-item"
                 (click)="navigateToRelated(item)">
              <div class="related-info">
                <div class="related-icon">
                  <i [class]="getCategoryIcon(item.postCategories[0]?.categoryName ?? 'الأخبار')"></i>
                </div>
                <div class="related-details">
                  <h6 class="related-title">{{ item.title }}</h6>
                  <small class="related-category">{{ item.postCategories[0]?.categoryName ?? 'الأخبار' }}</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="col-lg-9 col-md-8">
      <div class="content-details">
        <!-- Content Header -->
        <div class="content-header art-card mb-4">
          <div class="header-image-container" *ngIf="post.featuredImagePath">
            <img [src]="post.featuredImagePath"
                 [alt]="post.title"
                 class="header-image">
            <div class="header-overlay">
              <div class="category-badge">
                <i [class]="getCategoryIcon(post.postCategories[0]?.categoryName ?? 'الأخبار')" class="me-2"></i>
                {{ post.postCategories[0]?.categoryName ?? 'الأخبار' }}
              </div>
            </div>
          </div>
          <div class="header-content content-padding">
            <h1 class="content-title text-primary-blue mb-3">{{ post.title }}</h1>
            <div class="content-meta">
              <div class="meta-item">
                <i class="pi pi-calendar me-2"></i>
                <span>{{ formatDate(post.createdDate) }}</span>
                
              </div>
                <div class="content-padding">
            <div class="content-text">
              <div class="formatted-content" [innerHTML]="post.content"></div>
            </div>
          <!-- </div> -->
            </div>
          </div>
          
        </div>

        <!-- Content Body -->
        <!-- <div class="content-body art-card">
        
        </div> -->

        <!-- Action Buttons -->
        <div class="content-actions mt-4 mb-4">
          <button class="btn btn-secondary-custom me-3" (click)="goBack()">
            <i class="pi pi-arrow-left me-2"></i>
            العودة للخلف
          </button>
          <button class="btn btn-primary-custom" (click)="goToTab(post.postCategories[0]?.categoryName ?? 'الأخبار')">
            <i class="pi pi-list me-2"></i>
            تصفح المزيد من {{ post.postCategories[0]?.categoryName ?? 'الأخبار' }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading/Error State -->
<div *ngIf="!post" class="container-fluid py-4">
  <div class="row">
    <div class="col-12">
      <div class="art-card content-padding text-center">
        <i class="pi pi-exclamation-triangle text-muted" style="font-size: 3rem;"></i>
        <h4 class="text-muted mt-3">المحتوى غير موجود</h4>
        <p class="text-muted">تعذر العثور على المحتوى المطلوب.</p>
        <button class="btn btn-primary-custom" (click)="goBack()">
          <i class="pi pi-arrow-left me-2"></i>
          العودة للخلف
        </button>
      </div>
    </div>
  </div>
</div>
